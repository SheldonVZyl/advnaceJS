<!DOCTYPE html>
<!--html>



<body>
    <div id="message"></div>

    <script>
        let message1 = document.getElementById("message");
        if (window.FileReader) {
            message.innerText = "Good to go!";
        } else {
            message.innerText = "No FileReader :(";
        }
    </script>

</body>



</html>



<html>

<body>
    <input type="file" onchange="uploadFile(this.files)" />
    <div id="message"></div>

    <script>
        let message2 = document.getElementById("message");
        function uploadFile(files) {
            console.log(files[0]);
            message.innerText = files[0].name;
        }
    </script>
</body>

</html>

<html>

<body>
    <input type="file" multiple onchange="uploadFile(this.files)" />
    <div id="message"></div>
    <script>
        let message3 = document.getElementById("message");
        function uploadFile(files) {
            for (let i = 0; i < files.length; i++) {
                message.innerHTML += files[i].name + "<br>";
            }
        }
    </script>
</body>

</html>


<html>

<body>
    <input type="file" onchange="uploadAndReadFile(this.files)" />
    <div id="message"></div>
    <script>
        let message = document.getElementById("message");
        function uploadAndReadFile(files) {
            let fr = new FileReader();
            fr.onload = function (e) {
                message.innerHTML = e.target.result;
            };
            fr.readAsText(files[0]);
        }
    </script>
</body>

</html-->

<!--Practice exercise 14.1-->

<!--html>

<head>
    <title>Complete JavaScript Course</title>
    <style>
        .thumb {
            max-height: 100px;
        }
    </style>
</head>

<body>
    <input type="file" multiple accept="image/*" />
    <div class="output"></div>
    <script>
        const message = document.getElementById("message");
        const output = document.querySelector(".output");
        const myInput = document.querySelector("input");
        myInput.addEventListener("change", uploadAndReadFile);
        function uploadAndReadFile(e) {
            const files = e.target.files;
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                const img = document.createElement("img");
                img.classList.add("thumb");
                img.file = file;
                output.appendChild(img);
                const reader = new FileReader();
                reader.onload = (function (myImg) {
                    return function (e) {
                        myImg.src = e.target.result;
                    };
                })(img);
                reader.readAsDataURL(file);
            }
        }

    </script>
</body>

</html-->

<!--html>

<body>
    <script>
        window.onload = init;
        function init() {
            console.dir(navigator.geolocation);
        }
    </script>
</body>

</html-->

<!--html>

<body>
    <script>
        window.onload = init;
        function init() {
            navigator.geolocation.getCurrentPosition(showGeoPosition);
        }
        function showGeoPosition(data) {
            console.dir(data);
        }
    </script>
</body>

</html-->

<!--html>

<body>
    <canvas id="c1"></canvas>
    <script></script>
</body>

</html-->

<!--html>

<head>
    <style>
        canvas {
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <canvas id="c1"></canvas>
    <script>
        let canvas = document.getElementById("c1");
        let ctx = canvas.getContext("2d");
        canvas.width = 500; //px
        canvas.height = 500; //px
        ctx.fillRect(20, 40, 100, 100);
    </script>
</body>

</html-->

<!--html>

<head>
    <title>Practice exercise 14.2</title>
    <style>
        #canvas {
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <canvas id="canvas" width="640" height="640">Not Supported</canvas>
    <script>
        const canvas = document.querySelector('#canvas');
        const ctx = canvas.getContext("2d");
        ctx.fillStyle = "red";
        ctx.fillRect(100, 100, 500, 300); //filled shape
        ctx.strokeRect(90, 90, 520, 320); // outline
        ctx.clearRect(150, 150, 400, 200); //transparent
    </script>
</body>

</html-->

<!--html>

<head>
    <style>
        #canvas1 {
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <canvas id="canvas1"></canvas>
    <script>
        let canvas = document.getElementById("canvas1");
        let ctx = canvas.getContext("2d");
        canvas.width = 100;
        canvas.height = 100;
        ctx.lineWidth = 2;
        ctx.moveTo(0, 20);
        ctx.lineTo(50, 100);
        ctx.stroke();
    </script>
</body>

</html-->

<!--html>

<head>
    <style>
        #canvas1 {
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <canvas id="canvas1"></canvas>
    <script>
        let canvas = document.getElementById("canvas1");
        let ctx = canvas.getContext("2d");
        canvas.width = 150;
        canvas.height = 200;
        ctx.beginPath();
        ctx.arc(75, 100, 50, 0, Math.PI * 2);
        ctx.stroke();
    </script>
</body>

</html-->

<!--html>

<head>
    <title>Practice exercise 14.3</title>
    <style>
        #canvas {
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <canvas id="canvas" width="640" height="640">Not Supported</canvas>
    <script>
        const canvas = document.querySelector("#canvas");
        const ctx = canvas.getContext("2d");
        ctx.beginPath();
        ctx.fillStyle = "green";
        ctx.arc(300, 130, 100, 0, Math.PI * 2);
        ctx.fill();
        ctx.beginPath();
        ctx.fillStyle = "black";
        ctx.arc(250, 120, 20, 0, Math.PI * 2);
        ctx.moveTo(370, 120);
        ctx.arc(350, 120, 20, 0, Math.PI * 2);
        ctx.moveTo(240, 160);
        ctx.arc(300, 160, 60, 0, Math.PI);
        ctx.fill();
        ctx.moveTo(300, 130);
        ctx.lineTo(300, 150);
        ctx.stroke();
        ctx.beginPath();
        ctx.moveTo(300, 230);
        ctx.lineTo(300, 270);
        ctx.lineTo(400, 270);
        ctx.lineTo(200, 270);
        ctx.lineTo(300, 270);
        ctx.lineTo(300, 350);
        ctx.lineTo(400, 500);
        ctx.moveTo(300, 350);
        ctx.lineTo(200, 500);
        ctx.stroke();
        ctx.beginPath();
        ctx.fillStyle = "blue";
        ctx.moveTo(200, 50);
        ctx.lineTo(400, 50);
        ctx.lineTo(300, 20);
        ctx.lineTo(200, 50);
        ctx.fill();
        ctx.stroke();
    </script>
</body>

</html-->

<!--html>

<head>
    <style>
        #canvas1 {
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <canvas id="canvas1"></canvas>
    <script>
        let canvas = document.getElementById("canvas1");
        let ctx = canvas.getContext("2d");
        canvas.width = 200;
        canvas.height = 200;
        ctx.font = "24px Arial";
        let txt = "Hi canvas!";
        ctx.fillText(txt, 10, 35);
    </script>
</body>

</html-->

<!--html>

<head>
    <title>Practice exercise 14.4</title>
    <style>
        #canvas {
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <canvas id="canvas" width="640" height="640">Not Supported</canvas>
    <script>
        const canvas = document.querySelector('#canvas');
        const ctx = canvas.getContext('2d');
        const str = "Hello World";
        ctx.font = 'italic 50px Comic';
        ctx.fillStyle = 'blue';
        //ctx.textAlign = 'left';
        ctx.fillText(str, 100, 100);
        ctx.font = 'bold 20px Arial';
        ctx.fillStyle = 'red';
        for (let x = 1; x < 11; x++) {
            ctx.fillText("counter:" + x, 50, (200 + (40 * x)));
        }
    </script>
</body>

</html-->

<!--html>

<head>
    <style>
        canvas {
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <canvas id="c1"></canvas>
    <img id="flower" src="flower.jpg" />
    <script>
        window.onload = function () {
            let canvas = document.getElementById("c1");
            canvas.height = 300;
            canvas.width = 300;
            let ctx = canvas.getContext("2d");
            let myImage = document.getElementById("flower");
            ctx.drawImage(myImage, 10, 10);
        };
    </script>
</body>

</html-->

<!--html>

<head>
    <style>
        canvas {
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <canvas id="canvas1"></canvas>
    <canvas id="canvas2"></canvas>
    <canvas id="canvas3"></canvas>
    <script>
        let canvas1 = document.getElementById("canvas1");
        let ctx1 = canvas1.getContext("2d");
        ctx1.strokeRect(5, 5, 150, 100);
        let canvas2 = document.getElementById("canvas2");
        let ctx2 = canvas2.getContext("2d");
        ctx2.beginPath();
        ctx2.arc(60, 60, 20, 0, 2 * Math.PI);
        ctx2.stroke();
        let canvas3 = document.getElementById("canvas3");
        let ctx3 = canvas3.getContext("2d");
        ctx3.drawImage(canvas1, 10, 10);
        ctx3.drawImage(canvas2, 10, 10);
    </script>
</body>

</html-->

<!--html>

<head>
    <title>Practice exercise 14.5</title>
    <style>
        #canvas {
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <div><label>Image</label>
        <input type="file" id="imgLoader" name="imgLoader">
    </div>
    <div><canvas id="canvas"></canvas></div>
    <script>
        const canvas = document.querySelector("#canvas");
        const ctx = canvas.getContext("2d");
        const imgLoader = document.querySelector("#imgLoader");
        imgLoader.addEventListener("change", handleUpload);
        function handleUpload(e) {
            console.log(e);
            const reader = new FileReader();
            reader.onload = function (e) {
                console.log(e);
                const img = new Image();
                img.onload = function () {
                    canvas.width = img.width / 2;
                    canvas.height = img.height / 2;
                    ctx.drawImage(img, 0, 0, img.width / 2,
                        img.height / 2);
                }
                img.src = e.target.result;
            }
            reader.readAsDataURL(e.target.files[0]);
        }
    </script>
</body>

</html-->

<!--html>

<head>
    <style>
        canvas {
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <canvas id="canvas"></canvas>
    <script>
        window.onload = init;
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext("2d");
        canvas.height = 500;
        canvas.width = 500;
        var pos = {
            x: 0,
            y: 50,
        };
        function init() {
            draw();
        }
        function draw() {
            pos.x = pos.x + 5;
            if (pos.x > canvas.width) {
                pos.x = 0;
            }
            if (pos.y > canvas.height) {
                pos.y = 0;
            }
            ctx.fillRect(pos.x, pos.y, 100, 100);
            window.setTimeout(draw, 50);
        }
    </script>
</body>

</html-->

<!--html>

<head>
    <title>Practice exercise 14.6</title>
    <style>
        #canvas {
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <div><canvas id="canvas"></canvas></div>
    <script>
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");
        const ballSize = 10;
        let x = canvas.width / 2;
        let y = canvas.height / 2;
        let dirX = 1;
        let dirY = 1;
        function drawBall() {
            ctx.beginPath();
            ctx.arc(x, y, ballSize, 0, Math.PI * 2);
            ctx.fillStyle = "red";
            ctx.fill();
            ctx.closePath();
        }
        function move() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawBall();
            if (x > canvas.width - ballSize || x < ballSize) {
                dirX *= -1;
            }
            if (y > canvas.height - ballSize || y < ballSize) {
                dirY *= -1;
            }
            x += dirX;
            y += dirY;
        }
        setInterval(move, 10);
    </script>
</body>

</html-->


<!--html>

<head>
    <style>
        canvas {
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <canvas id="canvas"></canvas>
    <input type="color" id="bgColor" />
    <script>
        let canvas = document.getElementById("canvas");
        let ctx = canvas.getContext("2d");
        canvas.width = 700;
        canvas.height = 700;
        window.onload = init; // add this line to the start of the script
        function init() {
            canvas.addEventListener("mousemove", draw);
            canvas.addEventListener("mousemove", setPosition);
            canvas.addEventListener("mouseenter", setPosition);
        }
        let pos = {
            x: 0,
            y: 0,
        };
        function setPosition(e) {
            pos.x = e.pageX;
            pos.y = e.pageY;
        }
        function draw(e) {
            if (e.buttons !== 1) return;
            ctx.beginPath();
            ctx.moveTo(pos.x, pos.y);
            setPosition(e);
            ctx.lineTo(pos.x, pos.y);
            ctx.lineWidth = 10;
            ctx.lineCap = "round";
            ctx.stroke();
        }
    </script>
</body-->

<!--html>

<head>
    <style>
        canvas {
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <div class="controls">
        <button class="clear">Clear</button> <span>Color
            <input type="color" value="#ffff00" id="penColor"></span>
        <span>Width
            <input type="range" min="1" max="20" value="10" id="penWidth"></span>
    </div>
    </div>
    <canvas id="canvas"></canvas>
    <script>
        window.onload = init;
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");
        canvas.style.border = "1px solid black";
        const penColor = document.querySelector("#penColor");
        const penWidth = document.querySelector("#penWidth");
        document.querySelector(".clear").addEventListener(
            "click", clearImg);
        canvas.width = 700;
        canvas.height = 700;
        let pos = {
            x: 0,
            y: 0,
        };
        function init() {
            canvas.addEventListener("mousemove", draw);
            canvas.addEventListener("mousemove", setPosition);
            canvas.addEventListener("mouseenter", setPosition);
        }
        function draw(e) {
            if (e.buttons !== 1) return;
            ctx.beginPath();
            ctx.moveTo(pos.x, pos.y);
            setPosition(e);
            ctx.lineTo(pos.x, pos.y);
            ctx.strokeStyle = penColor.value;
            ctx.lineWidth = penWidth.value;
            ctx.lineCap = "round";
            ctx.stroke();
        }
        function setPosition(e) {
            pos.x = e.pageX;
            pos.y = e.pageY;
        }
        function clearImg() {
            const temp = confirm("Clear confirm?");
            if (temp) {
                ctx.clearRect(0, 0, canvas.offsetWidth, canvas.offsetHeight);
            }
        }
    </script>
</body>

</html-->

<!--Projects-->

<!--Create a Matrix effect-->

<!--html>

<head>
    <title>Create a Matrix effect</title>
</head>

<body>
    <div class="output"></div>
    <script>
        const canvas = document.createElement("canvas");
        const ctx = canvas.getContext("2d");
        canvas.SetAttribute("width", "500");
        canvas.setAttribute("height", "300");
        document.body.prepend(canvas);
        const colVal = [];
        for (let x = 0; x < 50; x++) {
            colVal.push(0);
        }
        function matrix() {
            ctx.fillStyle = "rgba(0,0,0,.05)";
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "green";
            colVal.map((posY, index) => {
                let output = Math.random() < 0.5 ? 0 : 1;
                let posX = (index * 10) + 10;
                ctx.fillText(output, posX, posY);
                if (posY > 100 + Math.random() * 300) {
                    colVal[index] = posY + 10;
                }
            });
        }
        setInterval(matrix, 50);
    </script>
</body>

</html-->

<!--Countdown clock-->

<!--script>
    const endDate = document.querySelector("input[name='endDate']");
    const clock = document.querySelector(".clock");
    let timeInterval;
    let timeStop = true;
    const savedValue = localStorage.getItem("countdown") || false;
    if (savedValue) {
        startClock(savedValue);
        let inputValue = new Date(savedValue);
        endDate.valueAsDate = inputValue;
    }
    endDate.addEventListener("change", function (e) {
        e.preventDefault();
        clearInterval(timeInterval);
        const temp = new Date(endDate.value);
        localStorage.setItem("countdown", temp);
        startClock(temp);
        timeStop = true;
    });
    function startClock(d) {
        function updateCounter() {
            let tl = (timeLeft(d));
            if (tl.total <= 0) {
                timeStop = false;
            }
            for (let pro in tl) {
                let el = clock.querySelector("." + pro);
                if (el) {
                    el.innerHTML = tl[pro];
                }
            }
        }
        updateCounter();
        if (timeStop) {
            timeInterval = setInterval(updateCounter, 1000);
        } else {
            clearInterval(timeInterval);
        }
    }
    function timeLeft(d) {
        let currentDate = new Date();
        let t = Date.parse(d) - Date.parse(currentDate);
        let seconds = Math.floor((t / 1000) % 60);
        let minutes = Math.floor((t / 1000 / 60) % 60);
        let hours = Math.floor((t / (1000 * 60 * 60)) % 24);
        let days = Math.floor(t / (1000 * 60 * 60 * 24));
        return {
            "total": t,
            "days": days,
            "hours": hours,
            "minutes": minutes,
            "seconds": seconds
        };
    }
</script-->

<!--Online paint app-->

<script>
    const canvas = document.querySelector("#canvas");
    const ctx = canvas.getContext("2D");
    const penColor = document.querySelector("#penColor");
    const penWidth = document.querySelector("#penWidth");
    const btnSave = document.querySelector(".save");
    const btnClear = document.querySelector(".clear");
    const output = document.querySelector(".output");
    const mLoc = {
        draw: false,
        x: 0,
        y: 0,
        lastX: 0,
        lastY: 0
    };
    canvas.style.border = "1px solid black";
    btnSave.addEventListener("click", saveImg);
    btnClear.addEventListener("click", clearCanvas);
    canvas.addEventListener("mousemove", (e) => {
        mLoc.lastX = mLoc.x;
        mLoc.lastY = mLoc.y;
        //console.log(e);
        mLoc.x = e.clientX;
        mLoc.y = e.clientY;
        draw();
    });
    canvas.addEventListener("mousedown", (e) => {
        mLoc.draw = true;
    });
    canvas.addEventListener("mouseup", (e) => {
        mLoc.draw = false;
    });
    canvas.addEventListener("mouseout", (e) => {
        mLoc.draw = false;
    });
    function saveImg() {
        const dataURL = canvas.toDataURL();
        console.log(dataURL);
        const img = document.createElement("img");
        output.prepend(img);
        img.setAttribute("src", dataURL);
        const link = document.createElement("a");
        output.append(link);
        let fileName = Math.random().toString(16).substr(-8) +
            ".png"
        link.setAttribute("download", fileName);
        link.href = dataURL;
        link.click();
        output.removeChild(link);
    }
    function clearCanvas() {
        let temp = confirm("clear canvas?");
        if (temp) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }
    }
    function draw() {
        if (mLoc.draw) {
            ctx.beginPath();
            ctx.moveTo(mLoc.lastX, mLoc.lastY);
            ctx.lineTo(mLoc.x, mLoc.y);
            ctx.strokeStyle = penColor.value;
            ctx.lineWidth = penWidth.value;
            ctx.stroke();
            ctx.closePath();
        }
    }
</script>